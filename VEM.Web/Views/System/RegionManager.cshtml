@model IEnumerable<VEM.Model.City>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="row-fluid">
    <div class="span12">
        <h3 class="page-title">
            地域维护 <small>管理城市和区县</small>
        </h3>
        <ul class="breadcrumb">
            <li>
                <i class="icon-home"></i>
                @Html.MvcSiteMap().SiteMapPath()
            </li>
        </ul>
    </div>
</div>
<div class="row-fluid">
    <div class="span12">
        <div class="portlet box light-grey">
            <div class="portlet-title">
                <div class="caption"><i class="icon-globe"></i>地区设置</div>
                <div class="tools">
                </div>
            </div>
            <div class="portlet-body">
                <div class="clearfix">
                    <div class="btn-group">
                        <a href="CityCreateEdit?id=0&ms=RegionManager" name="btnAddCity" class="btn red"><i class="icon-plus"></i> 添加城市</a>
                    </div>
                    <div class="btn-group pull-right">
                    </div>
                </div>
                <table class="table table-striped table-bordered table-hover table-full-width dataTable" id="sample_1" aria-describedby="sample_1_info">
                    <thead>
                        <tr role="row">
                            <th style="width:16px;"></th>
                            <th style="width:20%;">ID</th>
                            <th>城市</th>
                            <th style="width:25%;"></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr class="odd">
                                <td><span class="row-details row-details-close"></span></td>
                                <td>@Html.DisplayFor(modelItem => item.Id)</td>
                                <td>@Html.DisplayFor(modelItem => item.CityName)</td>
                                <th>
                                    <a href="CityCreateEdit?ms=RegionManager&id=@item.Id" name="btnUpdCity" class="btn mini green"><i class="icon-edit"></i> 修改</a>
                                    <a href="~/System/DelCity/?id=@item.Id" name="btnDelCity" class="btn mini red  delete-link"><i class="icon-remove"></i>删除</a>
                                    <a href="DistrictCreate?ms=RegionManager&cityId=@item.Id" name="btnAddDistrict" menuno="" class="btn mini purple chidrenManager"><i class="icon-cogs"></i>添加区县</a>
                                </th>
                            </tr>
                            <tr style="display:none;">
                                <td class="details" colspan="4">
                                    <table class="table-full-width">
                                        <tbody>
                                            @foreach (var dis in item.District)
                                            {
                                                <tr>
                                                    <td>@Html.DisplayFor(modelItem => dis.Id)</td>
                                                    <td><code>@Html.DisplayFor(modelItem => dis.DistrictName)</code></td>
                                                    <td>
                                                        <a href="/System/DistrictEdit" name="btnUpdDistrict" cid="@item.Id" did="@dis.Id" dname="@dis.DistrictName" class="btn mini green-stripe up-district"><i class="icon-edit"></i> 修改</a>
                                                        <a href="/System/DelDistrict" name="btnDelDistrict" did="@dis.Id" name="btnDelMenu" class="btn mini red-stripe del-district"><i class="icon-remove"></i>删除</a>
                                                    </td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                    
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<script src='@Url.Content("~/media/myjs/PageScript/RegionManager.js")'></script>
